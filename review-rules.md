# LLM 代码审查规则
# 本文件由 `goldagent hook rules-new` 生成，可随时编辑，无需重建 hook。

请审查以下代码变更，重点检查以下几个维度，并在末尾给出总体评价。

## 一、安全漏洞
- SQL 注入、命令注入、路径穿越
- XSS / CSRF
- 硬编码密钥、Token、密码
- 权限校验遗漏（未鉴权的接口、越权访问）
- 不安全的反序列化

## 二、代码质量
- 命名是否清晰（变量、函数、类）
- 函数是否过长（建议不超过 50 行）
- 重复代码（DRY 原则）
- 魔法数字 / 魔法字符串未抽取为常量

## 三、潜在 Bug
- 空指针 / 空引用未处理
- 数组越界风险
- 整数溢出
- 并发竞争条件（共享状态未加锁）
- 错误 / 异常未处理或被静默吞掉

## 四、性能
- N+1 查询
- 不必要的大对象复制
- 循环内的重复计算

## 输出格式要求
- 每个问题单独列出，格式：`文件名:行号 — 问题描述 — 修改建议`
- 按严重程度排序：严重 > 警告 > 建议
- 若无问题，直接回复：**未发现明显问题。**
- 结尾给出一句总体评价
